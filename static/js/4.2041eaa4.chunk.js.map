{"version":3,"sources":["services/http/index.jsx","pages/Auth/Login.jsx"],"names":["accesToken","window","localStorage","getItem","request","axios","create","baseURL","header","token","Login","history","useHistory","useState","hasError","setHasError","emailInputRef","useRef","passInputRef","console","log","className","role","onSubmit","e","preventDefault","post","email","current","value","password","then","res","setItem","data","push","location","reload","catch","err","htmlFor","ref","type","id","to"],"mappings":"iHAAA,qBAEMA,EAAaC,OAAOC,aAAaC,QAAQ,gBAEzCC,EAAUC,IAAMC,OAAO,CACzBC,QAAS,wBACTC,OAAQ,CACJC,MAAOT,GAA0B,MAI1BI,O,qHC8EAM,UApFD,WAEV,IAAMC,EAAUC,cAEhB,EAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAgBC,iBAAO,MACvBC,EAAeD,iBAAO,MAE5BE,QAAQC,IAAIJ,EAAeE,GAqB3B,OACI,qBAAKG,UAAU,iBAAf,SACI,sBAAKA,UAAU,MAAf,UAEI,qBAAKA,UAAU,aAEf,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,OAAf,UAEI,qBAAKA,UAAU,cAAf,SACI,yCAEJ,sBAAKA,UAAU,YAAf,UAGQP,EACI,qBAAKO,UAAU,qBAAqBC,KAAK,QAAzC,2CAIA,6BAIR,uBAAMC,SA3CT,SAACC,GAClBA,EAAEC,iBAEFrB,IAAQsB,KAAK,SAAU,CACnBC,MAAOX,EAAcY,QAAQC,MAC7BC,SAAUZ,EAAaU,QAAQC,QAE9BE,MAAK,SAACC,GAEH/B,OAAOC,aAAa+B,QAAQ,eAAgBD,EAAIE,KAAKzB,OACrDE,EAAQwB,KAAK,KACblC,OAAOmC,SAASC,YAEnBC,OAAM,SAACC,GAEJxB,GAAY,OA4BA,UACI,sBAAKM,UAAU,OAAf,UACI,uBAAOmB,QAAQ,qBAAqBnB,UAAU,aAA9C,2BACA,uBAAOoB,IAAKzB,EAAe0B,KAAK,QAAQrB,UAAU,eAAesB,GAAG,qBAAqB,mBAAiB,cAC1G,qBAAKA,GAAG,YAAYtB,UAAU,YAA9B,+DAEJ,sBAAKA,UAAU,OAAf,UACI,uBAAOmB,QAAQ,wBAAwBnB,UAAU,aAAjD,sBACA,uBAAOoB,IAAKvB,EAAcwB,KAAK,WAAWrB,UAAU,eAAesB,GAAG,6BAE1E,sBAAKtB,UAAU,kBAAf,UACI,uBAAOqB,KAAK,WAAWrB,UAAU,mBAAmBsB,GAAG,kBACvD,uBAAOtB,UAAU,mBAAmBmB,QAAQ,gBAA5C,6BAEJ,wBAAQE,KAAK,SAASrB,UAAU,kBAAhC,0BAIR,qBAAKA,UAAU,cAAf,SACI,cAAC,IAAD,CAAMuB,GAAG,YAAT,gDAKZ,qBAAKvB,UAAU","file":"static/js/4.2041eaa4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst accesToken = window.localStorage.getItem('sessionToken')\n\nconst request = axios.create({\n    baseURL: 'https://reqres.in/api',\n    header: {\n        token: accesToken ? accesToken : ''\n    }\n})\n\nexport default request;","import './Auth.scss';\nimport { useRef, useState } from 'react';\nimport request from '../../services/http';\nimport { Link, useHistory } from 'react-router-dom';\n\nconst Login = () => {\n\n    const history = useHistory()\n\n    const [hasError, setHasError] = useState(false)\n\n    const emailInputRef = useRef(null)\n    const passInputRef = useRef(null)\n\n    console.log(emailInputRef, passInputRef);\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        request.post('/login', {\n            email: emailInputRef.current.value,\n            password: passInputRef.current.value,\n        })\n            .then((res) => {\n                // console.log(res);\n                window.localStorage.setItem('sessionToken', res.data.token)\n                history.push('/')\n                window.location.reload()\n            })\n            .catch((err) => {\n                // window.localStorage.setItem('sessionToken', 'undefened')\n                setHasError(true)\n            })\n    }\n\n    return (\n        <div className=\"container mt-5\">\n            <div className=\"row\">\n\n                <div className=\"col-md-3\" />\n\n                <div className=\"col-md-6\">\n                    <div className=\"card\">\n\n                        <div className=\"card-header\">\n                            <h1>Login</h1>\n                        </div>\n                        <div className=\"card-body\">\n\n                            {\n                                hasError ? (\n                                    <div className=\"alert alert-danger\" role=\"alert\">\n                                        Email or Password is invalid.\n                                    </div>\n                                ) : (\n                                    <></>\n                                )\n                            }\n\n                            <form onSubmit={handleSubmit}>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n                                    <input ref={emailInputRef} type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" />\n                                    <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                                </div>\n                                <div className=\"mb-3\">\n                                    <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n                                    <input ref={passInputRef} type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" />\n                                </div>\n                                <div className=\"mb-3 form-check\">\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\" />\n                                    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Check me out</label>\n                                </div>\n                                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n                            </form>\n                        </div>\n\n                        <div className=\"card-footer\">\n                            <Link to=\"/register\">Parollingizni unutdingizmi?</Link>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"col-md-3\" />\n            </div>\n        </div>\n    )\n}\n\nexport default Login;"],"sourceRoot":""}